import requests
from bs4 import BeautifulSoup

# url = 'https://support.apple.com/kb/HT213488'

def generate_prompt(url: str):

    prompt = '''I will give you some information about NVD vulnerabilities.
    I need you to summarize these contents, extract useful information and describe it in a complete paragraph.

    '''

    res = requests.get(url)

    soup = BeautifulSoup(res.text, 'html.parser')
    info = soup.find(name = 'div', attrs = {
        'id' : 'content', 
    })
    if info != None:
        # print(info.text)
        prompt += info.text

    # with open('./prompt/support.apple.com', 'w') as f:
    #     print(prompt, file = f)
    return prompt