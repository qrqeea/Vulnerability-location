from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC

prompt = '''I will give you some information about NVD vulnerabilities. The information includes the following parts: Title、Overview、 Affected Products、Remediation and Revision History.
I need you to summarize these contents, extract useful information and describe it in a complete paragraph.

'''

url = 'https://groups.google.com/g/icecoder/c/xcAc8_1UPxQ'
driver = webdriver.Chrome()
driver.get(url)

element = WebDriverWait(driver, 10).until(
    EC.presence_of_element_located((By.CLASS_NAME, 'ptW7te'))
)

# content = driver.page_source
# print(content)

title = driver.find_element(By.CLASS_NAME, 'KPwZRb gKR4Fb')
content = driver.find_elements(By.CLASS_NAME, 'ptW7te')
print(title.text)
print(content.text)

# prompt += '{Title}: ' + f'{title}\n\n'
# for index, post in enumerate(content):
#     # print(index)
#     prompt += '{Content' + f'{index + 1}' + '}: ' + post.text + '\n\n'

# with open('./prompt/groups.google.com', 'w') as f:
#     print(prompt, file = f)

driver.quit()