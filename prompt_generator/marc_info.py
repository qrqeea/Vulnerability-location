import requests

def generate_prompt(url: str):

    prompt = '''
I will give you some information about a software vulnerability. You need to extract the valuable parts from the information. The focus is on the information section describing the vulnerability.\n\n'''[1:]
    
    if 'w=2' in url:
        url = url.replace('w=2', 'q=mbox')
    else:
        url += '&q=mbox'

    # print(url)
    res = requests.get(url)
    # print(res.text)
    prompt += res.text
    
    return prompt


if __name__ == '__main__':
    url = 'http://marc.info/?l=bugtraq&m=104005975415582&w=2'
    prompt = generate_prompt(url)
    if prompt != None:
        with open('./prompt_template/prompt_test/marc.info', 'w') as f:
            print(prompt, file = f)